Generic_Offensives = {

	GER_Off_Taifun = { #COMBINED WITH BARBAROSSA
         
		fire_only_once = yes
		icon = generic_operation
		
		visible = {
			has_war_with = SOV
			has_completed_focus = GER_ussr_war_goal
			has_idea = Barbarossa_I
		}
		
		allowed = {
			tag = GER
		}
		
		available = {
			has_idea = Barbarossa_I
			has_war_with = SOV
			has_completed_focus = GER_ussr_war_goal
			AND = { date > 1941.06.01 date < 1941.11.01 }
			
		}
		ai_will_do = {
			factor = 90
		}
		cost = 25
		
		complete_effect = {
			add_command_power = -50
			
		}
		days_remove = 14
		remove_effect = {
			if = { 
				limit = { 
					is_ai = no
				}
				add_timed_idea = { #TAIFUN PLAYER
					idea = Barbarossa_II
					days = 60
				}
			}
			else = {
				add_timed_idea = { #TAIFUN AI
					idea = Barbarossa_III
					days = 75
				}
			}
		}
	}
	GER_Off_Eldelweiss = { #COMBINED WITH BLAU + ROMANIA
         
		fire_only_once = yes
		icon = generic_operation
		
		visible = {
			has_war_with = SOV
			is_in_faction_with = ROM
			NOT = { has_country_flag = offensive_of_1942 }
			OR = {
				has_idea = Blau_I               #blau 1942
				has_idea = Blau_I_modif		   #blau 1942
				has_idea = Blau_I_ai			   #blau 1942
			}
		}
		
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
			date < 1942.10.01 
		}
		
		ai_will_do = {
			factor = 90
		}
		cost = 25
		
		complete_effect = {
			add_command_power = -50
			set_country_flag = offensive_of_1942  						 #can't pick both at the same time
			ROM = {	country_event = { id = romania.10 days = 14 } }        #romania event so they get notified
		}
		
		days_remove = 1
		remove_effect = {
			if = { 
				limit = { 
					is_ai = no
				}
				add_timed_idea = { #Eldelweiss player
					idea = Eldelweiss_Offensive
					days = 45
				}
				ROM = {
					add_timed_idea = { 
						idea = Eldelweiss_Romania
						days = 45
					}
				}
			}
			
			else = {
				add_timed_idea = { #Eldelweiss ai
					idea = Eldelweiss_Offensive_AI
					days = 60
				}
			}
			
		}	
	}
	
	GER_Off_Feuerzauber = { #COMBINED WITH BLAU
         
		fire_only_once = yes
		icon = generic_operation
		
		visible = {
			has_war_with = SOV
			NOT = { has_country_flag = offensive_of_1942 }
			OR = {
				has_idea = Blau_I               #blau 1942
				has_idea = Blau_I_modif		 #blau 1942
				has_idea = Blau_I_ai			  #blau 1942
			}
		}
		
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
			date < 1942.11.01 
			
		}
		ai_will_do = {
			factor = 90
		}
		cost = 25
		
		complete_effect = {
			add_command_power = -50
			set_country_flag = offensive_of_1942
		}
		
		days_remove = 1
		remove_effect = {
			if = { 
				limit = { 
					is_ai = no
				}
				add_timed_idea = { 
					idea = Feuerzauber_Offensive
					days = 45
				}
			}
			else = {
				add_timed_idea = { 
					idea = Feuerzauber_Offensive
					days = 60
				}
			}
		}
	}
	
	GER_Off_Trappenjagd = { #COMBINED WITH Zitadelle
         
		fire_only_once = yes
		icon = generic_operation
		
		visible = {
			has_war_with = SOV
			has_idea = Blau_II  #zitzadelle 1943
		}
		
		allowed = {
			tag = GER
		}
		
		available = {
			has_war_with = SOV
			date < 1943.08.01
		}
		ai_will_do = {
			factor = 90
		}
		cost = 25
		
		complete_effect = {
			add_command_power = -50
		}
		
		days_remove = 1
		remove_effect = {
			if = { 
				limit = { 
					is_ai = no
				}
				add_timed_idea = { #Eldelweiss player
					idea = Trappenjagd_Offensive
					days = 30
				}
			}
			else = {
				add_timed_idea = { #Eldelweiss ai
					idea = Trappenjagd_Offensive_AI
					days = 45
				}
			}
		}
	}
	
	
	
	remove_daf = {
		allowed = {
			tag = GER
		}
		
		complete_effect = {
			remove_ideas = GER_DAF
		}
	}
	
	
}