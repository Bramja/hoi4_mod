
equipment_production_e0 = {
	enable = {
		OR = { AND = { date > 1939.1.1 NOT = { tag = SOV } } AND = { date > 1938.1.1 tag = SOV } }
		OR = {
			has_equipment = { infantry_equipment < 1000 }
			has_equipment = { support_equipment < 70 }
			has_equipment = { artillery_equipment < 50 }
		}
		has_war = no 
	}
	abort = {
		OR = { 
			AND = {
				NOT = { has_equipment = { infantry_equipment < 1000 } }
				NOT = { has_equipment = { support_equipment < 70 } }
				NOT = { has_equipment = { artillery_equipment < 50 } }
			}
			has_war = yes 
		} 
	}
	ai_strategy = { type = unit_ratio id = infantry 								value = -400	}	
	ai_strategy = { type = unit_ratio id = mountaineers 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = marines 									value = -400 	}	
	ai_strategy = { type = unit_ratio id = paratroopers 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = motorized	 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = cavalry 									value = -400 	}	
	#ai_strategy = { type = unit_ratio id = armor 									value = -400 	}	
	#ai_strategy = { type = unit_ratio id = mechanized 								value = -400 	}	
}

#try to keep a reserve of inf equipment in war
equipment_production_e1 = {
	enable = {
		OR = {
			has_equipment = { infantry_equipment < 2000 }
			has_equipment = { support_equipment < 100 }
			has_equipment = { artillery_equipment < 100 }
		}
		has_war = yes 
		OR = {
			AND = { is_major = yes has_army_size = { type = infantry size > 50 } }
			is_major = no
		}
	}
	abort = {
		OR = { 
			AND = {
				NOT = { has_equipment = { infantry_equipment < 2000 } }
				NOT = { has_equipment = { support_equipment < 100 } }
				NOT = { has_equipment = { artillery_equipment < 100 } }
			}
			has_war = no 
			NOT = { has_army_size = { type = infantry size > 50 } }
		} 
	}
	ai_strategy = { type = unit_ratio id = infantry 								value = -400	}	
	ai_strategy = { type = unit_ratio id = mountaineers 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = marines 									value = -400 	}	
	ai_strategy = { type = unit_ratio id = paratroopers 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = motorized	 							value = -400 	}	
	ai_strategy = { type = unit_ratio id = cavalry 									value = -400 	}	
	#ai_strategy = { type = unit_ratio id = armor 									value = -400 	}	
	#ai_strategy = { type = unit_ratio id = mechanized 								value = -400 	}	
}

#cut air production during inf shortage
equipment_production_e2 = {
	enable = {
		has_equipment = { infantry_equipment < 1000 }
		has_war = yes 
		alliance_strength_ratio < 0.75
		NOT = { tag = ENG tag = USA }
	}
	abort = { 
		OR = { 
			has_equipment = { infantry_equipment > 999 } 
			has_war = no 
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = 100 	}
		
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -150 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -150 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -150 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -150 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -150 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -150 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -100 	}	
}

#last stand
equipment_production_e2b = {
	enable = {
		has_equipment = { infantry_equipment < 1000 }
		has_war = yes 
		any_owned_state = { NOT = { is_controlled_by = ROOT } }	
		alliance_strength_ratio < 0.5
		NOT = { tag = ENG tag = USA tag = JAP }	
	}
	abort = { 
		OR = { 
			has_equipment = { infantry_equipment > 999 } 
			has_war = no 
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = 100 	}
		
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -200 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -200 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -200 	}	
}

#more air prod reduction
equipment_production_e2c = {
	enable = {
		has_equipment = { infantry_equipment < 1000 }
		has_war = yes 
		alliance_strength_ratio < 0.5
		NOT = { tag = ENG tag = USA tag = JAP }
	}
	abort = { 
		OR = { 
			has_equipment = { infantry_equipment > 999 } 
			has_war = no 
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = 100 	}
		
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -50 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -50 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -50 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -50 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -50 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -50 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -50 	}	
}

#enemy air defeated but land equipment needed
equipment_production_e2d = {
	enable = {
		has_equipment = { infantry_equipment < 1000 }
		has_war = yes
		
		has_deployed_air_force_size = { size > 2000 type = fighter } 	
		NOT = { any_enemy_country = { has_deployed_air_force_size = { size > 250 type = fighter } } }
		NOT = { any_enemy_country = { has_deployed_air_force_size = { size > 250 type = interceptor } } }
	}
	abort = {
		OR = {
			has_equipment = { infantry_equipment > 999 } 
			has_war = no 
			
			NOT = { has_deployed_air_force_size = { size > 2000 type = fighter } }
			any_enemy_country = { has_deployed_air_force_size = { size > 250 type = fighter } }
			any_enemy_country = { has_deployed_air_force_size = { size > 250 type = interceptor } }
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = 100 	}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -100 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -100 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -100 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -100 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -100 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -100 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -100 	}	
}

#minors: dont bother with air force when running out of equipment
equipment_production_e2e = {
	enable = {
		OR = {
			has_equipment = { infantry_equipment < 100 }
			has_equipment = { artillery_equipment < 100 }
			has_equipment = { support_equipment < 100 }
			has_equipment = { anti_tank_equipment < 100 }
		}
		has_war = yes
		OR = { is_major = no num_of_military_factories < 50 tag = CHI } 
	}
	abort = {
		OR = {
			AND = {
				NOT = { has_equipment = { infantry_equipment < 100 } }
				NOT = { has_equipment = { artillery_equipment < 100 } }
				NOT = { has_equipment = { support_equipment < 100 } }
				NOT = { has_equipment = { anti_tank_equipment < 100 } }
			}
			has_war = no 
			NOT = { is_major = no num_of_military_factories < 50 tag = CHI } 
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = 100 	}
	ai_strategy = { type = equipment_production_factor id = motorized 			value = 100 	}
	ai_strategy = { type = equipment_production_factor id = artillery 			value = 100 	}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -200 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -200 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -200 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -200 	}	
}




#transfer mot to inf
equipment_production_e3 = {
	enable = { 
		has_war = yes 
		has_equipment = { infantry_equipment < 5000 } 
		has_equipment = { motorized_equipment > 2000 } 
	}
	abort = { 
		OR = {
			NOT = { has_equipment = { motorized_equipment > 2000 } }
			NOT = { has_equipment = { infantry_equipment < 5000 } }
			has_war = no
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = mechanized 	value = -75 }
	ai_strategy = { type = equipment_production_factor id = infantry 	value = 75 	}		
}

#transfer inf to art/at/mot
equipment_production_e3a = {
	enable = { 
		has_war = yes 
		has_equipment = { infantry_equipment > 2999 }
		has_equipment = { artillery_equipment < 50 } 
	}
	abort = { 
		OR = {
			has_equipment = { infantry_equipment < 3000 }
			has_equipment = { artillery_equipment > 129 }			
			has_war = no
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 	value = -75 	}
	ai_strategy = { type = equipment_production_factor id = artillery 	value = 50 		}		
}

equipment_production_e3b = {
	enable = { 
		has_war = yes 
		has_equipment = { infantry_equipment > 2999 } 
		has_equipment = { anti_tank_equipment < 50 } 
	}
	abort = { 
		OR = {
			has_equipment = { infantry_equipment < 3000 }
			has_equipment = { anti_tank_equipment > 129 }			
			has_war = no
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 	value = -25 	}
	ai_strategy = { type = equipment_production_factor id = anti_tank 	value = 25 		}		
}

equipment_production_e3c = {
	enable = { 
		has_war = yes 
		has_equipment = { infantry_equipment > 2999 } 
		has_equipment = { motorized_equipment < 100 } 
	}
	abort = { 
		OR = {
			has_equipment = { infantry_equipment < 3000 }
			has_equipment = { motorized_equipment > 1499 }			
			has_war = no
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 	value = -75 	}
	ai_strategy = { type = equipment_production_factor id = mechanized 	value = 75 		}		
}



#transfer air to inf/art/at
equipment_production_air_inf = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { motorized_equipment < 100 }
		NOT = { tag = ENG tag = USA }
		is_major = yes
	}
	abort = { 
		OR = {
			has_equipment = { motorized_equipment > 999 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = 50 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -10 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -10 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_art = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { artillery_equipment < 100 }
		NOT = { tag = ENG tag = USA }
		is_major = yes
	}
	abort = { 
		OR = {
			has_equipment = { artillery_equipment > 499 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = 50 	}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -10 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -10 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_at = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { anti_tank_equipment < 100 }
		NOT = { tag = ENG tag = USA }
		is_major = yes
	}
	abort = { 
		OR = {
			has_equipment = { anti_tank_equipment > 499 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = anti_tank 			value = 25 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -10 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -10 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_sup = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { support_equipment < 100 }
		NOT = { tag = ENG tag = USA }
		is_major = yes
	}
	abort = { 
		OR = {
			has_equipment = { support_equipment > 499 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = motorized 			value = 50 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -10 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -10 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -10 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

#transfer air to inf/art/at
equipment_production_air_inf_M = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { motorized_equipment < 100 }
		is_major = no
	}
	abort = { 
		OR = {
			has_equipment = { motorized_equipment > 399 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = 50 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -25 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -25 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_art_M = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { artillery_equipment < 100 }
		is_major = no
	}
	abort = { 
		OR = {
			has_equipment = { artillery_equipment > 399 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = 50 	}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -25 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -25 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_at_M = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { anti_tank_equipment < 100 }
		is_major = no
	}
	abort = { 
		OR = {
			has_equipment = { anti_tank_equipment > 399 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = anti_tank 			value = 25 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -25 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -25 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}

equipment_production_air_sup_M = {
	enable = { 
		OR = { date > 1939.1.1 has_war = yes }
		has_equipment = { support_equipment < 100 }
		is_major = no
	}
	abort = { 
		OR = {
			has_equipment = { support_equipment > 399 }
			#has_war = no
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = motorized 			value = 40 		}
	
	ai_strategy = { type = equipment_production_factor id = fighter 			value = -25 	}		
	ai_strategy = { type = equipment_production_factor id = interceptor 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = tactical_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = naval_bomber 		value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = strategic_bomber 	value = -25 	}	
	ai_strategy = { type = equipment_production_factor id = cas 				value = -25 	}	
	#ai_strategy = { type = equipment_production_factor id = air_transport 		value = -10 	}		
}





#transfer inf to art/mot/sup
equipment_production_e6 = {
	enable = { 
		has_equipment = { infantry_equipment > 9999 }
	}
	abort = { 
		has_equipment = { infantry_equipment < 10000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = -150 	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = 50 	}
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = 50 	}
	ai_strategy = { type = equipment_production_factor id = motorized 			value = 50 	}
}

equipment_production_e7 = {
	enable = {
		is_major = yes
		has_equipment = { infantry_equipment > 19999 }
	}
	abort = { 
		has_equipment = { infantry_equipment < 20000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = -75 	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = 50 	}
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = 50 	}
	ai_strategy = { type = equipment_production_factor id = motorized 			value = 50 	}
}





#override armor limit when excess tanks
equipment_production_e8 = {
	enable = { 
		NOT = { has_tech = modern_art }
		has_equipment = { medium_tank_equipment > 1999 } 
		has_army_size = { type = armor size < 60 } 
		has_manpower > 500000
	}
	abort = { 
		OR = {
			has_tech = modern_art
			has_equipment = { medium_tank_equipment < 2000 } 
			has_army_size = { type = armor size > 59 }
			NOT = { has_manpower > 500000 }
		}
	}
	
	ai_strategy = { type = build_army id = armor 								value = 60		}
}

equipment_production_e8b = {
	enable = { 
		has_tech = modern_art 
		has_equipment = { modern_tank_equipment > 1999 } 
		has_army_size = { type = armor size < 60 } 
		has_manpower > 500000
	}
	abort = { 
		OR = {
			has_equipment = { modern_tank_equipment < 2000 } 
			has_army_size = { type = armor size > 59 }
			NOT = { has_manpower > 500000 }
		}
	}
	
	ai_strategy = { type = build_army id = armor 								value = 60		}
}


#override hardcoded army buildup limit
equipment_production_e9a = {
	enable = {
		has_equipment = { infantry_equipment > 12000 } 
		has_manpower > 150000 
		has_army_size = { size < 50 }
		is_major = no 
	}
	abort = {
		OR = {
			NOT = { has_equipment = { infantry_equipment > 35000 } }
			NOT = { has_manpower > 150000 } 
			NOT = { has_army_size = { size < 50 } }
			is_major = yes 
		}
	}
	
	ai_strategy = { type = build_army id = infantry 								value = 50		}
}


#germany wants a bigger stockpile of inf against sov
equipment_production_GER2 = {
	enable = { tag = GER has_equipment = { infantry_equipment < 7000 } has_war_with = SOV SOV = { has_capitulated = no } }
	abort = { OR = { has_equipment = { infantry_equipment > 6999 } SOV = { has_capitulated = yes } } }
	
	ai_strategy = { type = unit_ratio id = infantry 								value = -200	}	
	ai_strategy = { type = unit_ratio id = mountaineers 							value = -200 	}	
	ai_strategy = { type = unit_ratio id = marines 								value = -200 	}	
	ai_strategy = { type = unit_ratio id = paratroopers 							value = -200 	}	
	ai_strategy = { type = unit_ratio id = motorized	 							value = -200 	}	
	ai_strategy = { type = unit_ratio id = cavalry 								value = -200 	}	
	ai_strategy = { type = unit_ratio id = mechanized 							value = -200 	}	
}





#stop light tank production
#equipment_production_lt = {
#	enable = { NOT = { tag = GER } OR = { has_tech = basic_medium_tank date > 1937.1.1 } }
#	abort = { always = no }
#	
#	ai_strategy = { type = unit_base id = cavalry 								value = -1		}
#	ai_strategy = { type = unit_base id = infantry 								value = 1		}
#}
#
#equipment_production_lt2 = {
#	enable = { tag = GER OR = { has_tech = basic_medium_tank date > 1937.1.1 } }
#	abort = { always = no }
#	
#	ai_strategy = { type = unit_base id = cavalry 								value = -1		}
#	ai_strategy = { type = unit_base id = infantry 								value = 1		}
#}




#transfer excess equipment factories to fighters
equipment_production_inf_air = {
	enable = {
		is_major = yes
		has_equipment = { infantry_equipment > 24999 }
	}
	abort = {
		OR = { 
			has_equipment = { infantry_equipment < 25000 }
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}

equipment_production_art_air = {
	enable = {
		is_major = yes
		has_equipment = { artillery_equipment > 3999 }
		has_tech = artillery4
	}
	abort = {
		has_equipment = { artillery_equipment < 4000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}

equipment_production_at_air = {
	enable = {
		is_major = yes
		has_equipment = { anti_tank_equipment > 3999 }
		has_tech = antitank5
	}
	abort = {
		has_equipment = { anti_tank_equipment < 4000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = anti_tank 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}

equipment_production_mot_air = {
	enable = {
		is_major = yes
		has_equipment = { motorized_equipment > 3999 }
	}
	abort = {
		has_equipment = { motorized_equipment < 4000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}

equipment_production_sup_air = {
	enable = {
		is_major = yes
		has_equipment = { support_equipment > 3999 }
	}
	abort = {
		has_equipment = { support_equipment < 4000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = motorized 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}





equipment_production_inf_air_m = {
	enable = {
		is_major = no
		has_equipment = { infantry_equipment > 49999 }
	}
	abort = {
		OR = { 
			has_equipment = { infantry_equipment < 50000 }
		} 
	}
	
	ai_strategy = { type = equipment_production_factor id = infantry 			value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 1000 	}		
}

equipment_production_art_air_m = {
	enable = {
		is_major = no
		has_equipment = { artillery_equipment > 4999 }
		has_tech = artillery4
	}
	abort = {
		has_equipment = { artillery_equipment < 5000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = artillery 			value = -125 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 1000 	}		
}

equipment_production_at_air_m = {
	enable = {
		is_major = no
		has_equipment = { anti_tank_equipment > 4999 }
		has_tech = antitank5
	}
	abort = {
		has_equipment = { anti_tank_equipment < 5000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = anti_tank 			value = -125 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 1000 	}		
}

equipment_production_mot_air_m = {
	enable = {
		is_major = no
		has_equipment = { motorized_equipment > 4999 }
	}
	abort = {
		has_equipment = { motorized_equipment < 5000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = mechanized 			value = -125 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 1000 	}		
}

equipment_production_sup_air_m = {
	enable = {
		is_major = yes
		has_equipment = { support_equipment > 4999 }
	}
	abort = {
		has_equipment = { support_equipment < 5000 }
	}
	
	ai_strategy = { type = equipment_production_factor id = motorized 			value = -200 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 1000 	}		
}







equipment_production_arm_air = {
	enable = {
		is_major = yes
		has_equipment = { medium_tank_equipment > 4999 }
		has_equipment = { medium_tank_artillery_equipment > 4999 }
		NOT = { has_tech = modern_art }
	}
	abort = {
		OR = { 
			has_equipment = { medium_tank_equipment < 5000 }
			has_equipment = { medium_tank_artillery_equipment < 5000 }
			has_tech = modern_art
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = armor 				value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}

equipment_production_arm_air_2 = {
	enable = {
		is_major = yes
		has_equipment = { modern_tank_equipment > 4999 }
		has_equipment = { modern_tank_artillery_equipment > 4999 }
		has_tech = modern_art
	}
	abort = {
		OR = { 
			has_equipment = { modern_tank_equipment < 5000 }
			has_equipment = { modern_tank_artillery_equipment < 5000 }
		}
	}
	
	ai_strategy = { type = equipment_production_factor id = armor 				value = -100 	}
	ai_strategy = { type = equipment_production_factor id = fighter 			value = 100 	}		
}




#cancel CV aircraft production when all CVs have been wiped out
air_strategy_1 = {
	enable = { has_navy_size = { size < 1 type = carrier } }
	abort = { has_navy_size = { size > 0 type = carrier } }

	ai_strategy = { type = equipment_production_factor id = air_transport 		value = -1000	}	
	ai_strategy = { type = build_army id = air_transport 						value = -20000 	}	
}

#strat bomber limit
air_strategy_2 = {
	enable = { has_deployed_air_force_size = { size > 4000 type = strategic_bomber } }
	abort = { NOT = { has_deployed_air_force_size = { size > 4000 type = strategic_bomber } } }

	ai_strategy = { type = equipment_production_factor id = strategic_bomber 		value = -1000	}	#
	ai_strategy = { type = build_army id = strategic_bomber 						value = -20000 	}	#
}

#stockpile sup equip in advance for better templates
misc_equip_1 = {
	enable = { is_major = yes NOT = { tag = JAP } NOT = { has_tech = basic_medium_tank } has_war = no NOT = { has_country_flag = at_loaded } has_equipment = { support_equipment < 5000 } }
	abort = { OR = { has_war = yes has_tech = basic_medium_tank has_country_flag = at_loaded NOT = { has_equipment = { support_equipment < 5000 } } } }

	ai_strategy = { type = equipment_production_factor id = motorized 		value = 100		}	#
	ai_strategy = { type = equipment_production_factor id = armor	 		value = -100	}
	ai_strategy = { type = equipment_production_factor id = infantry	 	value = -100	}
	ai_strategy = { type = equipment_production_factor id = fighter		 	value = -100	}
}

misc_equip_2 = {
	enable = { tag = SOV has_war = no NOT = { has_country_flag = at_loaded } has_equipment = { support_equipment < 7500 } }
	abort = { OR = { has_war = yes has_country_flag = at_loaded NOT = { has_equipment = { support_equipment < 7500 } } } }

	ai_strategy = { type = equipment_production_factor id = motorized 		value = 1000	}	#
}

#stockpile art equip in advance for better templates
misc_equip_3 = {
	enable = { is_major = yes has_war = no has_country_flag = templates_loaded NOT = { has_tech = basic_medium_tank } NOT = { has_country_flag = at_loaded } has_equipment = { artillery_equipment < 5000 } }
	abort = { OR = { has_war = yes has_tech = basic_medium_tank has_country_flag = at_loaded NOT = { has_equipment = { artillery_equipment < 5000 } } } }

	ai_strategy = { type = equipment_production_factor id = artillery 		value = 20		}	#
}

misc_equip_4 = {
	enable = { is_major = yes has_war = no tag = JAP NOT = { has_country_flag = at_loaded } has_equipment = { artillery_equipment < 5000 } }
	abort = { OR = { has_war = yes has_country_flag = at_loaded NOT = { has_equipment = { artillery_equipment < 5000 } } } }

	ai_strategy = { type = equipment_production_factor id = artillery 		value = 20		}	#
}